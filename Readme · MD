# SATY ELITE v19 ‚Äî CLEAN TREND FOLLOWER
## Gu√≠a completa de instalaci√≥n y uso

---

## ‚ö†Ô∏è ADVERTENCIA IMPORTANTE

El trading con futuros conlleva riesgo de p√©rdida **total** del capital.
Este bot no garantiza ganancias. √ösalo solo con dinero que puedas
permitirte perder completamente.

**Empieza siempre con DRY_RUN=true durante al menos 30 d√≠as.**

---

## ¬øPor qu√© v19 es diferente del v18?

| Aspecto | v18 (el viejo) | v19 (este) |
|---|---|---|
| Se√±ales | 25 indicadores colineales | 5 se√±ales independientes |
| Apalancamiento | 12√ó (peligroso) | 3√ó (controlado) |
| DCA | S√≠ (promedia perdedores) | No (SL limpio) |
| Timeframe | 5m (mucho ruido) | 15m (se√±al clara) |
| Gesti√≥n riesgo | % fijo por trade | 1% del balance por trade |
| SL | 1√ó ATR (muy ajustado) | 2√ó ATR (respeta ruido) |
| R:R | Variable | Fijo 1:1.5 siempre |

---

## Las 5 se√±ales (por qu√© estas y no otras)

Cada se√±al mide algo **fundamentalmente distinto**. No hay redundancia.

### 1. Supertrend (10, 3.0)
**¬øQu√© mide?** Si hay una tendencia real sostenida.  
**¬øPor qu√©?** Es el mejor filtro de tendencia single-indicator probado.
Usa ATR para adaptarse a la volatilidad. Cuando marca alcista,
el precio lleva tiempo subiendo con estructura.

### 2. EMA 8/48 + HTF bias
**¬øQu√© mide?** La estructura de precios en m√∫ltiples timeframes.  
**¬øPor qu√©?** La EMA r√°pida (8) vs lenta (48) confirma momentum local.
El HTF (1h/4h) confirma que no estamos contra la tendencia mayor.
Sin este filtro, entrar√≠as en pullbacks de tendencias bajistas.

### 3. RSI(14) zona sana
**¬øQu√© mide?** Que el momentum no est√° en extremo.  
**¬øPor qu√©?** Entrar con RSI > 62 en long es comprar sobrecalentado.
Entrar con RSI < 40 en long es comprar sin momentum.
La zona 40-62 es donde los trades tienen m√°s espacio para moverse.

### 4. ADX > 22 con DI correcto
**¬øQu√© mide?** La fuerza de la tendencia, no solo su direcci√≥n.  
**¬øPor qu√©?** El ADX mide la fuerza. ADX < 22 = mercado lateral = trampa.
DI+ > DI- + 3 puntos confirma que los compradores tienen ventaja real.

### 5. Volumen > media 20 barras √ó 1.1
**¬øQu√© mide?** Si hay dinero real detr√°s del movimiento.  
**¬øPor qu√©?** Los movimientos sin volumen son trampas. El volumen
por encima de la media indica que hay jugadores institucionales
participando, no solo robots de bajo capital.

---

## Gesti√≥n de riesgo (lo m√°s importante)

### C√°lculo del tama√±o de posici√≥n
```
riesgo_usdt  = balance √ó 1%
sl_distancia = 2 √ó ATR
contratos    = riesgo_usdt / sl_distancia
```

**Ejemplo con $100 de balance:**
- Riesgo por trade: $1.00
- ATR de BTC en 15m: ~$200
- SL distance: $400
- Contratos: $1 / $400 = 0.0025 BTC
- Notional: 0.0025 √ó $50,000 = $125
- Margen con 3√ó: $125 / 3 = $41.67

Si el SL se activa, pierdes exactamente $1 (1% del balance).
Si el TP2 se alcanza, ganas ~$1.50 (R:R 1:1.5).

### Niveles de salida
```
SL  = entrada - 2.0 √ó ATR  (perdida m√°x: 1% balance)
TP1 = entrada + 1.5 √ó ATR  ‚Üí mover SL a break-even
TP2 = entrada + 3.0 √ó ATR  (ganancia: ~1.5% balance)
```

### Circuit breaker
Si pierdes 5% del balance en un d√≠a, el bot se detiene autom√°ticamente.
Con 1% de riesgo por trade, necesitas 5 stops consecutivos para activarlo.

---

## Instalaci√≥n

### Requisitos
```bash
Python 3.10+
pip install ccxt pandas numpy requests
```

### Setup en servidor (recomendado: VPS con Ubuntu)
```bash
# 1. Clonar o copiar los archivos
mkdir saty_v19 && cd saty_v19
cp saty_v19.py .
cp .env.example .env

# 2. Editar configuraci√≥n
nano .env
# Cambiar: API keys, Telegram, DRY_RUN=true inicialmente

# 3. Cargar variables y ejecutar
source .env && python saty_v19.py

# 4. Para ejecutar en segundo plano con reinicio autom√°tico
nohup source .env && python saty_v19.py >> saty.log 2>&1 &

# O con tmux (recomendado)
tmux new -s saty
source .env && python saty_v19.py
# Ctrl+B, D para desconectar sin cerrar
```

### Con Docker (m√°s f√°cil para mantener corriendo)
```dockerfile
FROM python:3.12-slim
RUN pip install ccxt pandas numpy requests
COPY saty_v19.py /app/
WORKDIR /app
CMD ["python", "saty_v19.py"]
```

```bash
docker build -t saty_v19 .
docker run -d \
  -e BINGX_API_KEY="..." \
  -e BINGX_API_SECRET="..." \
  -e TELEGRAM_BOT_TOKEN="..." \
  -e TELEGRAM_CHAT_ID="..." \
  -e DRY_RUN="true" \
  --name saty_v19 \
  saty_v19
```

---

## Configuraci√≥n de la API de BingX

1. Ir a BingX ‚Üí Perfil ‚Üí API Management
2. Crear nueva API Key
3. Permisos necesarios:
   - ‚úÖ Read (leer saldo y posiciones)
   - ‚úÖ Perpetual Futures Trading
   - ‚ùå NO marcar Withdraw (no necesario y es un riesgo)
4. A√±adir la IP de tu servidor a la whitelist
5. Copiar API Key y Secret al .env

### Importante en BingX
- Ir a Perpetual Futures ‚Üí Settings
- Seleccionar modo **One-Way** (no Hedge Mode)
- El bot est√° dise√±ado para One-Way

---

## Par√°metros recomendados seg√∫n el capital

### Con $50-200 USDT
```bash
RISK_PCT="1.0"
LEVERAGE="3"
MAX_TRADES="2"
MIN_SCORE="4"
MIN_VOLUME="5000000"
```

### Con $200-1000 USDT
```bash
RISK_PCT="1.0"
LEVERAGE="3"
MAX_TRADES="3"
MIN_SCORE="4"
MIN_VOLUME="10000000"
```

### Con $1000+ USDT
```bash
RISK_PCT="0.75"
LEVERAGE="3"
MAX_TRADES="4"
MIN_SCORE="4"
MIN_VOLUME="20000000"
```

---

## Logs y seguimiento

### CSV de trades
Todos los trades se guardan en `/tmp/saty_v19_trades.csv`:
```
ts, action, symbol, side, score, entry, exit, sl, tp1, tp2,
contracts, risk_usdt, pnl, bars, rsi_entry, adx_entry
```

### Stats en JSON
Stats persistentes en `/tmp/saty_v19_stats.json`:
```json
{
  "wins": 12,
  "losses": 8,
  "gross_profit": 45.23,
  "gross_loss": 18.40,
  "total_pnl": 26.83,
  "peak_balance": 126.83
}
```

---

## Se√±ales de Telegram que recibir√°s

### Al iniciar
Resumen completo de configuraci√≥n y balance.

### Al abrir trade
```
üü¢ LONG ‚Äî SOL/USDT:USDT
Score: 4/5  ‚ñà‚ñà‚ñà‚ñà‚ñë
Entrada: 142.35
TP1:    145.50
TP2:    148.65  R:R 1:1.5
SL:     139.20
Se√±ales activas:
  ‚úÖ Supertrend
  ‚úÖ EMA estructura
  ‚úÖ RSI zona sana (52.3)
  ‚úÖ ADX fuerza (28.4)
  ‚ùå Volumen
Riesgo: $1.23 (1% balance)
```

### Al llegar a TP1
```
üü° TP1 + BREAK-EVEN ‚Äî SOL/USDT
SL movido a entrada: 142.35
Siguiente: TP2 148.65
```

### Al cerrar
```
‚úÖ CERRADO ‚Äî SOL/USDT
LONG ¬∑ 4/5 ¬∑ TP2 ‚úÖ
142.35 ‚Üí 148.65
üí∞ PnL: $1.84 (+149.6% del riesgo)
üìà 12W/8L WR:60.0% PF:2.46
```

---

## Errores comunes y soluciones

### "Insufficient margin"
El balance es demasiado bajo para el contrato m√≠nimo del exchange.
**Soluci√≥n:** Subir RISK_PCT a 2% o reducir MIN_VOLUME para ir a pares con precio bajo.

### "Invalid leverage"
BingX no permite ese leverage para ese par.
**Soluci√≥n:** Reducir LEVERAGE a 2.

### Bot no abre trades
Puede ser que el mercado est√© lateral (ADX < 22 en todos los pares).
Esto es correcto ‚Äî el bot espera tendencias reales.
**Verificar:** El log mostrar√° "Escaneando X pares" pero sin candidatos.

### TP1 alcanzado pero el bot sigue en el trade
Normal. Tras TP1, la mitad de la posici√≥n sigue abierta con SL en BE,
buscando TP2 o siendo cerrada por trailing stop.

---

## Expectativas realistas

Con esta estrategia, en condiciones normales de mercado:
- **Win rate esperado:** 45-55% (el R:R de 1.5 hace que sea rentable con WR < 50%)
- **Profit factor esperado:** 1.3-1.8
- **Rendimiento mensual esperado:** 3-8% del capital (no garantizado)
- **M√°ximo drawdown esperado:** 10-15% (con circuit breaker activo)

**Un mes malo puede ser -5% con el circuit breaker.**
**Un mes bueno puede ser +15%.**

El trading no es un ingreso lineal. Hay meses de p√©rdidas seguidos
de meses de ganancias. La gesti√≥n del capital (1% de riesgo) asegura
que sobrevives los malos per√≠odos.

---

## Lo que este bot NO hace

- ‚ùå No garantiza ganancias
- ‚ùå No opera en mercados laterales (y eso es correcto)
- ‚ùå No promedia perdedores (DCA con leverage = cuenta muerta)
- ‚ùå No usa se√±ales de "whale" no verificables
- ‚ùå No usa 25 indicadores colineales

## Lo que este bot S√ç hace

- ‚úÖ Controla el riesgo al 1% por trade
- ‚úÖ Solo opera con tendencias reales (ADX > 22)
- ‚úÖ Mueve SL a BE cuando hay ganancia parcial
- ‚úÖ Usa trailing stop para proteger ganancias
- ‚úÖ Para autom√°ticamente si el d√≠a es muy malo
- ‚úÖ Registra todos los trades para an√°lisis posterior
- ‚úÖ Modo DRY-RUN para probar sin dinero real

---

*SATY ELITE v19 ‚Äî Simplicidad con disciplina.*
*Escrito con honestidad sobre lo que el trading algor√≠tmico puede y no puede hacer.*
